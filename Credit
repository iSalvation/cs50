#include <cs50.h>
#include <stdio.h>
#include <math.h>
#include <string.h>

int main(void)
{
    long c1,c2,c3,c4,c5,c6,c7,c8,c9,c10,c11,c12,c13,c14,c15,c16;
    long v1,v3,v5,v7,v9,v11,v13,v15,v01=0,v03=0,v05=0,v07=0,v09=0,v011=0,v013=0,v015=0;
    long sum1;
    long l;



    do
{
    l = get_long("Number: ");
}
    while (l<0);

// Count length
    int i = 0;
    long cc = l;
    while (cc > 0)
    {
        cc = cc / 10;
        i++;
    }
// Check if length is valid
    if (i != 13 && i != 15 && i != 16)
    {
        printf("INVALID\n");
        return 0;
    }





    c1= (l/1000000000000000)*2;
                                    v1=c1%10;
                                    if (c1 > 9){v01=1;}
    c2= (l/100000000000000)%10;
    c3= (l/10000000000000)%10*2;
                                    v3=c3%10;
                                    if (c3 > 9){v03=1;}
    c4= (l/1000000000000)%10;
    c5= (l/100000000000)%10*2;
                                    v5=c5%10;
                                    if (c5 > 9){v05=1;}
    c6= (l/10000000000)%10;
    c7= (l/1000000000)%10*2;
                                    v7=c7%10;
                                    if (c7 > 9){v07=1;}
    c8= (l/100000000)%10;
    c9= (l/10000000)%10*2;
                                     v9=c9%10;
                                    if (c9 > 9){v09=1;}
    c10= (l/1000000)%10;
    c11= (l/100000)%10*2;
                                    v11=c11%10;
                                    if (c11 > 9){v011=1;}
    c12= (l/10000)%10;
    c13= (l/1000)%10*2;
                                    v13=c13%10;
                                    if (c13 > 9){v013=1;}
    c14= (l/100)%10;
    c15= (l/10)%10*2;
                                    v15=c15%10;
                                    if (c15 > 9){v015=1;}
    c16= (l/1)%10;


    sum1 = (v1+v01+c2+v3+v03+c4+v5+v05+c6+v7+v07+c8+v9+v09+c10+v11+v011+c12+v13+v013+c14+v15+v015+c16)%10;
        if (sum1 == 0) 
        {
                if (c1/2==4||c3/2==4)
                {printf("VISA\n");}
                if (c2==3)
                {
                    if (c3/2==4||c3/2==7){printf("AMEX\n");}
                    else {printf("INVALID\n");}}
                if (c1/2==5&&c2<=5)     {if(i==13||i==16) {printf("MASTERCARD\n");}
                else printf("INVALID\n"); }}
            if (i != 13 && i != 15 && i != 16)
    {
        printf("INVALID\n");
        return 0;
    }
}

